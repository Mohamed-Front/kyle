import{C as m,r as j}from"./chart-10c086bf.js";import{d as k,i as l,j as y,o as n,c as r,a as e,t as a,k as g,F as v,l as x,p as d,n as z,q as F,b as L,s as $,_ as R,h as V}from"./index-b48caa78.js";const S={class:"bg-gradient-to-br from-gray-100 to-blue-100 min-h-screen p-4 md:p-8"},T={class:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6 mb-8"},H={class:"bg-white rounded-xl shadow-lg p-6 transform hover:scale-[1.02] transition-all duration-300 border-r-4 border-blue-500"},P={class:"flex justify-between items-start"},W={class:"text-3xl font-bold text-gray-800 mt-2"},D={class:"bg-white rounded-xl shadow-lg p-6 transform hover:scale-[1.02] transition-all duration-300 border-r-4 border-green-500"},A={class:"flex justify-between items-start"},N={class:"text-3xl font-bold text-gray-800 mt-2"},q={class:"bg-white rounded-xl shadow-lg p-6 transform hover:scale-[1.02] transition-all duration-300 border-r-4 border-orange-500"},E={class:"flex justify-between items-start"},I={class:"text-3xl font-bold text-gray-800 mt-2"},O={class:"bg-white rounded-xl shadow-lg p-6 transform hover:scale-[1.02] transition-all duration-300 border-r-4 border-purple-500"},U={class:"flex justify-between items-start"},Z={class:"text-3xl font-bold text-gray-800 mt-2"},Y={class:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8"},G={class:"bg-white rounded-xl shadow-lg p-6 transform hover:scale-[1.01] transition-all duration-300"},J={class:"flex justify-between items-center"},K={class:"flex space-x-2 bg-gray-100 rounded-lg"},Q=["onClick"],X={class:"relative h-64"},ee={class:"bg-white rounded-xl shadow-lg p-6 transform hover:scale-[1.01] transition-all duration-300"},te={class:"relative"},se={class:"mt-4 grid grid-cols-2 gap-2"},oe={class:"text-sm text-gray-600"},ae={class:"text-sm font-medium text-gray-800 mr-auto"},ne={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},re={class:"bg-white rounded-xl shadow-lg overflow-hidden transform hover:scale-[1.01] transition-all duration-300"},le={class:"overflow-y-auto"},ie={class:"flex items-start"},de={class:d("w-6 h-6"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ce=["stroke-linecap","stroke-linejoin","stroke-width","d"],ue={class:"flex-1"},pe={class:"flex justify-between items-start"},me={class:"text-base font-medium text-gray-800"},ge={class:"text-xs text-gray-500"},ve={class:"text-sm text-gray-600 mt-1"},xe={key:0,class:"mt-2"},he={class:"bg-white rounded-xl shadow-lg p-6 transform hover:scale-[1.01] transition-all duration-300"},fe={class:"relative"},be={class:"mt-6 grid grid-cols-3 gap-4"},_e={class:"text-sm text-gray-500"},ke={class:"text-xl font-bold text-gray-800 mt-1"},ye={class:"text-xs mt-2 flex items-center"},we={class:"h-3 w-3 inline ml-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Ce=["d"],Be=k({__name:"DashboardInfoBlock",setup(w){m.register(...j);const c=l(null),u=l(null),h=l(null),i=l({users_count:0,contactUs_count:0,complaints_count:0,roles_count:0,last_complaints:{}}),b=l("2023"),C=l([{title:"مستخدم جديد",description:"سارة أحمد قامت بإنشاء حساب جديد",time:"قبل 10 دقائق",status:"نشط",statusClass:"bg-green-100 text-green-800",iconBg:"bg-blue-100",iconText:"text-blue-600",iconPath:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z",iconLinecap:"round",iconLinejoin:"round",iconWidth:"2"},{title:"طلب تواصل",description:"استفسار حول خدمات النظام",time:"قبل 25 دقيقة",status:"قيد الانتظار",statusClass:"bg-blue-100 text-blue-800",iconBg:"bg-green-100",iconText:"text-green-600",iconPath:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z",iconLinecap:"round",iconLinejoin:"round",iconWidth:"2"},{title:"شكوى تم حلها",description:"تم حل مشكلة تتعلق بالخدمة",time:"قبل ساعة",status:"مكتمل",statusClass:"bg-purple-100 text-purple-800",iconBg:"bg-purple-100",iconText:"text-purple-600",iconPath:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z",iconLinecap:"round",iconLinejoin:"round",iconWidth:"2"},{title:"إضافة خدمة جديدة",description:"تمت إضافة خدمة جديدة للنظام",time:"قبل ساعتين",status:"",statusClass:"",iconBg:"bg-orange-100",iconText:"text-orange-600",iconPath:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10",iconLinecap:"round",iconLinejoin:"round",iconWidth:"2"},{title:"صيانة النظام",description:"تمت الصيانة المجدولة بنجاح",time:"قبل 5 ساعات",status:"",statusClass:"",iconBg:"bg-yellow-100",iconText:"text-yellow-600",iconPath:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z",iconLinecap:"round",iconLinejoin:"round",iconWidth:"2"}]),f=l([{name:"طلبات الخدمة",value:40},{name:"استفسارات عامة",value:30},{name:"مشكلات تقنية",value:15},{name:"طلبات دعم",value:10},{name:"أخرى",value:5}]),_=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6"],B=l([{name:"مستخدمون جدد",value:"124",trend:8},{name:"الطلبات",value:"342",trend:12},{name:"الإيرادات",value:"$24,560",trend:5}]),M=async()=>{try{const o=await $.get("api/dashboard/data");i.value=o.data.data;const t=Object.values(i.value.last_complaints),s=Object.keys(i.value.last_complaints);c.value&&new m(c.value,{type:"line",data:{labels:s,datasets:[{label:"الشكاوى",data:t,borderColor:"#3B82F6",backgroundColor:"rgba(59, 130, 246, 0.1)",borderWidth:3,tension:.3,fill:!0,pointBackgroundColor:"#fff",pointBorderColor:"#3B82F6",pointBorderWidth:2,pointRadius:4,pointHoverRadius:6}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:"#1F2937",titleFont:{size:14,weight:"bold"},bodyFont:{size:12},padding:12,cornerRadius:8,displayColors:!1}},scales:{y:{beginAtZero:!0,grid:{drawBorder:!1,color:"rgba(0, 0, 0, 0.05)"},ticks:{padding:12}},x:{grid:{display:!1},ticks:{padding:12}}},interaction:{intersect:!1,mode:"index"}}})}catch(o){console.error("خطأ في جلب بيانات لوحة التحكم:",o)}};return y(()=>{M(),u.value&&new m(u.value,{type:"doughnut",data:{labels:f.value.map(o=>o.name),datasets:[{data:f.value.map(o=>o.value),backgroundColor:_,borderWidth:0,borderRadius:4,spacing:2}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:"#1F2937",titleFont:{size:14,weight:"bold"},bodyFont:{size:12},padding:12,cornerRadius:8,displayColors:!1,callbacks:{label:function(o){return`${o.label}: ${o.raw}%`}}}},cutout:"75%"}}),h.value&&new m(h.value,{type:"bar",data:{labels:["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"],datasets:[{label:"المستخدمون",data:[80,95,110,100,120,130,140,135,125,115,105,95],backgroundColor:"#3B82F6",borderRadius:6,borderSkipped:!1},{label:"الطلبات",data:[200,220,240,230,250,270,290,280,260,240,220,200],backgroundColor:"#10B981",borderRadius:6,borderSkipped:!1},{label:"الإيرادات",data:[15e3,16e3,17e3,16500,18e3,19e3,2e4,19500,18500,17500,16500,15500],backgroundColor:"#F59E0B",borderRadius:6,borderSkipped:!1}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{padding:20,usePointStyle:!0,pointStyle:"circle"}},tooltip:{backgroundColor:"#1F2937",titleFont:{size:14,weight:"bold"},bodyFont:{size:12},padding:12,cornerRadius:8,displayColors:!1}},scales:{y:{beginAtZero:!0,grid:{drawBorder:!1,color:"rgba(0, 0, 0, 0.05)"},ticks:{padding:12,callback:function(o){return typeof o=="number"&&o>=1e3?`$${(o/1e3).toFixed(0)}k`:o}}},x:{grid:{display:!1},ticks:{padding:12}}},interaction:{intersect:!1,mode:"index"},barPercentage:.7,categoryPercentage:.8}})}),(o,t)=>(n(),r("div",S,[t[17]||(t[17]=e("div",{class:"mb-8 text-right"},[e("h1",{class:"text-3xl md:text-4xl font-bold text-gray-800 mb-2"},"لوحة التحكم"),e("p",{class:"text-lg text-gray-600"},"مرحباً، هنا نظرة عامة على إحصائيات النظام")],-1)),e("div",T,[e("div",H,[e("div",P,[e("div",null,[t[0]||(t[0]=e("p",{class:"text-sm font-medium text-gray-500"},"إجمالي المستخدمين",-1)),e("h3",W,a(i.value.users_count),1),t[1]||(t[1]=g('<p class="text-sm mt-3 flex items-center" data-v-974f713e><span class="text-green-500 font-medium flex items-center" data-v-974f713e><svg class="h-4 w-4 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-974f713e><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 10l7-7m0 0l7 7m-7-7v18" data-v-974f713e></path></svg> +5% </span><span class="text-gray-500 mr-2" data-v-974f713e>من الشهر الماضي</span></p>',1))]),t[2]||(t[2]=e("div",{class:"bg-blue-100 p-3 rounded-lg"},[e("svg",{class:"w-8 h-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})])],-1))])]),e("div",D,[e("div",A,[e("div",null,[t[3]||(t[3]=e("p",{class:"text-sm font-medium text-gray-500"},"طلبات التواصل",-1)),e("h3",N,a(i.value.contactUs_count),1),t[4]||(t[4]=g('<p class="text-sm mt-3 flex items-center" data-v-974f713e><span class="text-green-500 font-medium flex items-center" data-v-974f713e><svg class="h-4 w-4 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-974f713e><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 10l7-7m0 0l7 7m-7-7v18" data-v-974f713e></path></svg> +12% </span><span class="text-gray-500 mr-2" data-v-974f713e>من الشهر الماضي</span></p>',1))]),t[5]||(t[5]=e("div",{class:"bg-green-100 p-3 rounded-lg"},[e("svg",{class:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})])],-1))])]),e("div",q,[e("div",E,[e("div",null,[t[6]||(t[6]=e("p",{class:"text-sm font-medium text-gray-500"},"إجمالي الشكاوى",-1)),e("h3",I,a(i.value.complaints_count),1),t[7]||(t[7]=g('<p class="text-sm mt-3 flex items-center" data-v-974f713e><span class="text-red-500 font-medium flex items-center" data-v-974f713e><svg class="h-4 w-4 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-974f713e><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3" data-v-974f713e></path></svg> -2% </span><span class="text-gray-500 mr-2" data-v-974f713e>من الشهر الماضي</span></p>',1))]),t[8]||(t[8]=e("div",{class:"bg-orange-100 p-3 rounded-lg"},[e("svg",{class:"w-8 h-8 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1))])]),e("div",O,[e("div",U,[e("div",null,[t[9]||(t[9]=e("p",{class:"text-sm font-medium text-gray-500"},"أدوار المستخدمين",-1)),e("h3",Z,a(i.value.roles_count),1),t[10]||(t[10]=g('<p class="text-sm mt-3 flex items-center" data-v-974f713e><span class="text-green-500 font-medium flex items-center" data-v-974f713e><svg class="h-4 w-4 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-974f713e><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 10l7-7m0 0l7 7m-7-7v18" data-v-974f713e></path></svg> +0% </span><span class="text-gray-500 mr-2" data-v-974f713e>من الشهر الماضي</span></p>',1))]),t[11]||(t[11]=e("div",{class:"bg-purple-100 p-3 rounded-lg"},[e("svg",{class:"w-8 h-8 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})])],-1))])])]),e("div",Y,[e("div",G,[e("div",J,[t[12]||(t[12]=e("h2",{class:"text-xl font-semibold text-gray-800"},"اتجاه الشكاوى",-1)),e("div",K,[(n(),r(v,null,x(["2023","2022"],s=>e("button",{key:s,onClick:p=>b.value=s,class:d(["px-4 py-1 text-sm rounded-md",b.value===s?"bg-white shadow text-blue-600":"text-gray-600 hover:bg-gray-50"])},a(s),11,Q)),64))])]),e("div",X,[e("canvas",{ref_key:"complaintsChart",ref:c},null,512)])]),e("div",ee,[t[13]||(t[13]=e("h2",{class:"text-xl font-semibold text-gray-800 mb-6"},"أنواع الطلبات",-1)),e("div",te,[e("canvas",{ref_key:"requestTypesChart",ref:u},null,512)]),e("div",se,[(n(!0),r(v,null,x(f.value,(s,p)=>(n(),r("div",{key:s.name,class:"flex items-center"},[e("div",{class:"w-3 h-3 rounded-full mr-2",style:z(`background-color: ${_[p]}`)},null,4),e("span",oe,a(s.name),1),e("span",ae,a(s.value)+"%",1)]))),128))])])]),e("div",ne,[e("div",re,[t[14]||(t[14]=e("div",{class:"p-6 border-b border-gray-100"},[e("h2",{class:"text-xl font-semibold text-gray-800"},"النشاط الأخير")],-1)),e("div",le,[(n(!0),r(v,null,x(C.value,(s,p)=>(n(),r("div",{key:p,class:"p-6 border-b border-gray-100 last:border-0 hover:bg-gray-50"},[e("div",ie,[e("div",{class:d(`p-3 rounded-lg ${s.iconBg} ${s.iconText} ml-4`)},[(n(),r("svg",de,[e("path",{"stroke-linecap":s.iconLinecap,"stroke-linejoin":s.iconLinejoin,"stroke-width":s.iconWidth,d:s.iconPath},null,8,ce)]))],2),e("div",ue,[e("div",pe,[e("h3",me,a(s.title),1),e("span",ge,a(s.time),1)]),e("p",ve,a(s.description),1),s.status?(n(),r("div",xe,[e("span",{class:d(`px-2 py-1 text-xs font-medium rounded-full ${s.statusClass}`)},a(s.status),3)])):F("",!0)])])]))),128))])]),e("div",he,[t[16]||(t[16]=e("h2",{class:"text-xl font-semibold text-gray-800 mb-6"},"الملخص الشهري",-1)),e("div",fe,[e("canvas",{ref_key:"monthlySummaryChart",ref:h},null,512)]),e("div",be,[(n(!0),r(v,null,x(B.value,s=>(n(),r("div",{key:s.name,class:"bg-gray-50 p-4 rounded-lg"},[e("p",_e,a(s.name),1),e("h3",ke,a(s.value),1),e("p",ye,[e("span",{class:d(`font-medium ${s.trend>0?"text-green-500":"text-red-500"}`)},[(n(),r("svg",we,[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:s.trend>0?"M5 10l7-7m0 0l7 7m-7-7v18":"M19 14l-7 7m0 0l-7-7m7 7V3"},null,8,Ce)])),L(" "+a(Math.abs(s.trend))+"% ",1)],2),t[15]||(t[15]=e("span",{class:"text-gray-500 mr-2"},"من الشهر الماضي",-1))])]))),128))])])])]))}});const Me=R(Be,[["__scopeId","data-v-974f713e"]]),je={class:"dashboard"},Le=k({__name:"Dashboard",setup(w){return l(),l(),y(()=>{}),(c,u)=>(n(),r("div",je,[V(Me)]))}});export{Le as default};
