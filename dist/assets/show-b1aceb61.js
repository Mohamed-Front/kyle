import{_ as F,N as I,W as S,R as B,u as D,r as v,O as f,o as z,H as O,a as i,c as n,d as e,I as W,j as s,b as g,t as a,h as b,i as m,F as $,B as A,w as L,e as V,y as E,Z as M,$ as T,z as Z,p as H,f as J}from"./index-5ffc309d.js";import{x as K,A as Q,O as U}from"./index.es-2f58d5ce.js";const Y=h=>(H("data-v-b42a049e"),h=h(),J(),h),G={class:"min-h-screen bg-gray-100"},P={class:"bg-white shadow-sm"},X={class:"container mx-auto px-4 py-6"},ee={class:"flex items-center gap-4"},te={class:"text-3xl font-bold text-gray-800"},se={class:"container mx-auto px-4 py-8"},ae={key:1,class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},oe={class:"lg:col-span-2"},le={class:"bg-white rounded-xl shadow-lg p-6"},ce={class:"text-xl font-semibold text-gray-800 mb-6"},ie={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},ne={class:"space-y-4"},de={class:"field"},re={class:"block text-sm font-medium text-gray-700"},ue={class:"mt-1 text-gray-900 bg-gray-50 p-3 rounded-md"},_e={class:"field"},he={class:"block text-sm font-medium text-gray-700"},ge={class:"mt-1 text-gray-900 bg-gray-50 p-3 rounded-md"},me={class:"field"},pe={class:"block text-sm font-medium text-gray-700"},ve={class:"mt-1 text-gray-900 bg-gray-50 p-3 rounded-md"},xe={class:"space-y-4"},ye={class:"field"},fe={class:"block text-sm font-medium text-gray-700"},be={class:"field"},we={class:"block text-sm font-medium text-gray-700"},ke={class:"mt-1 text-gray-900 bg-gray-50 p-3 rounded-md"},Re={class:"field"},qe={class:"block text-sm font-medium text-gray-700"},Ne={class:"mt-1 text-gray-900 bg-gray-50 p-3 rounded-md"},Ce={class:"col-span-1 md:col-span-2"},je={class:"field"},Fe={class:"block text-sm font-medium text-gray-700"},Ie={class:"mt-1 text-gray-900 bg-gray-50 p-3 rounded-md"},Se={key:0,class:"field"},Be={class:"block text-sm font-medium text-gray-700"},De={class:"mt-1 text-red-600 bg-red-50 p-3 rounded-md"},ze={class:"lg:col-span-1"},Oe={class:"bg-white rounded-xl shadow-lg p-6 h-full"},We={class:"text-xl font-semibold text-gray-800 mb-6"},$e={key:0},Ae={class:"relative rounded-lg overflow-hidden mb-4",style:{height:"150px","background-color":"#f5f5f5"}},Le=["src","alt"],Ve={class:"flex gap-3 overflow-x-auto pb-3"},Ee=["onClick"],Me=["src","alt"],Te={class:"mt-4"},Ze={class:"font-semibold text-gray-700"},He={class:"text-gray-600 capitalize"},Je={key:1,class:"flex flex-col items-center justify-center py-8 text-gray-500"},Ke=Y(()=>e("i",{class:"pi pi-image text-5xl mb-3"},null,-1)),Qe={class:"lg:col-span-3"},Ue={class:"bg-white rounded-xl shadow-lg p-6"},Ye={class:"text-xl font-semibold text-gray-800 mb-6"},Ge={class:"rounded-lg overflow-hidden",style:{height:"300px"}},Pe={setup(h){const{t:o}=I(),w=S(),k=B(),R=D(),u=v(!0),t=v(null),d=v(0),q=async()=>{try{u.value=!0;const l=await V.get(`/api/warehouse-request/${w.params.id}`);t.value=l.data.data,u.value=!1}catch{u.value=!1,R.add({severity:"error",summary:o("error"),detail:o("warehouseRequest.loadError"),life:3e3})}},x=f(()=>{if(t.value&&t.value.lat&&t.value.long&&t.value.distance){const l=parseFloat(t.value.lat),c=parseFloat(t.value.long),r=Number(t.value.distance);return isNaN(l)||isNaN(c)||isNaN(r)?null:{center:{lat:l,lng:c},radius:r,strokeColor:"#FF0000",strokeOpacity:.8,strokeWeight:2,fillColor:"#FF0000",fillOpacity:.35}}return null}),N=l=>{const c=l.latLng,r=c.lat(),_=c.lng();console.log("Clicked coordinates:",r,_)},y=f(()=>{if(t.value&&t.value.lat&&t.value.long){const l=parseFloat(t.value.lat),c=parseFloat(t.value.long);return isNaN(l)||isNaN(c)?{lat:0,lng:0}:{lat:l,lng:c}}return{lat:0,lng:0}}),C=l=>{switch(l){case"active":return"success";case"pending":return"warning";case"rejected":return"danger";default:return"danger"}},j=()=>{k.go(-1)};return z(()=>{q()}),(l,c)=>{const r=O("tooltip");return i(),n("div",G,[e("div",P,[e("div",X,[e("div",ee,[W(g(s(E),{icon:"pi pi-arrow-left",class:"p-button-text p-button-rounded p-button-lg",onClick:j},null,512),[[r,s(o)("back"),void 0,{right:!0}]]),e("h1",te,a(s(o)("warehouseRequest.detailsTitle")),1)])])]),e("div",se,[u.value?(i(),b(s(M),{key:0,mode:"indeterminate",class:"mb-6 rounded-lg",style:{height:"6px"}})):m("",!0),!u.value&&t.value?(i(),n("div",ae,[e("div",oe,[e("div",le,[e("h2",ce,a(s(o)("warehouseRequest.information")),1),e("div",ie,[e("div",ne,[e("div",de,[e("label",re,a(s(o)("warehouseRequest.number")),1),e("p",ue,a(t.value.number),1)]),e("div",_e,[e("label",he,a(s(o)("warehouseRequest.name")),1),e("p",ge,a(t.value.name),1)]),e("div",me,[e("label",pe,a(s(o)("warehouseRequest.email")),1),e("p",ve,a(t.value.email),1)])]),e("div",xe,[e("div",ye,[e("label",fe,a(s(o)("warehouseRequest.status")),1),g(s(T),{value:t.value.status_description,severity:C(t.value.status_description),class:"mt-1 px-4 py-2 text-sm"},null,8,["value","severity"])]),e("div",be,[e("label",we,a(s(o)("warehouseRequest.latitude")),1),e("p",ke,a(t.value.lat),1)]),e("div",Re,[e("label",qe,a(s(o)("warehouseRequest.longitude")),1),e("p",Ne,a(t.value.long),1)])]),e("div",Ce,[e("div",je,[e("label",Fe,a(s(o)("warehouseRequest.address")),1),e("p",Ie,a(t.value.address),1)]),t.value.rejected_message?(i(),n("div",Se,[e("label",Be,a(s(o)("warehouseRequest.rejectionReason")),1),e("p",De,a(t.value.rejected_message),1)])):m("",!0)])])])]),e("div",ze,[e("div",Oe,[e("h2",We,a(s(o)("warehouseRequest.documents")),1),t.value.media&&t.value.media.length>0?(i(),n("div",$e,[e("div",Ae,[e("img",{src:t.value.media[d.value].url,alt:t.value.media[d.value].name,class:"w-full h-full object-contain transition-transform duration-300"},null,8,Le)]),e("div",Ve,[(i(!0),n($,null,A(t.value.media,(_,p)=>(i(),n("div",{key:_.id,onClick:Xe=>d.value=p,class:Z(["cursor-pointer rounded-lg overflow-hidden flex-shrink-0 border-2 transition-all duration-300",{"border-green-500":d.value===p,"border-transparent":d.value!==p}]),style:{width:"100px",height:"100px"}},[e("img",{src:_.url,alt:_.name,class:"w-full h-full object-cover"},null,8,Me)],10,Ee))),128))]),e("div",Te,[e("p",Ze,a(s(o)("warehouseRequest.documentType"))+":",1),e("p",He,a(t.value.media[d.value].name.replace(/_/g," ")),1)])])):(i(),n("div",Je,[Ke,e("p",null,a(s(o)("warehouseRequest.noDocuments")),1)]))])]),e("div",Qe,[e("div",Ue,[e("h2",Ye,a(s(o)("warehouseRequest.location")),1),e("div",Ge,[g(s(U),{"api-key":"AIzaSyDZnJeq94aaneiA3QWUZdWYV9uKDEjxjas",style:{width:"100%",height:"100%"},center:s(y),zoom:14,onClick:N},{default:L(()=>[g(s(K),{options:{position:s(y)}},null,8,["options"]),s(x)?(i(),b(s(Q),{key:0,options:s(x)},null,8,["options"])):m("",!0)]),_:1},8,["center"])])])])])):m("",!0)])])}}},st=F(Pe,[["__scopeId","data-v-b42a049e"]]);export{st as default};
