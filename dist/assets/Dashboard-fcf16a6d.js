import{C as m,r as z}from"./chart-10c086bf.js";import{L as w,r as l,o as C,a as n,c as r,d as t,t as o,F as g,B as _,z as c,n as F,i as L,A as S,E as v,e as $,p as R,f as V,_ as T,b as H}from"./index-5ffc309d.js";const a=d=>(R("data-v-60984a07"),d=d(),V(),d),P={class:"bg-gradient-to-br from-gray-100 to-blue-100 min-h-screen p-4 md:p-8"},W=a(()=>t("div",{class:"mb-8 text-right"},[t("h1",{class:"text-3xl md:text-4xl font-bold text-gray-800 mb-2"},"لوحة التحكم"),t("p",{class:"text-lg text-gray-600"},"مرحباً، هنا نظرة عامة على إحصائيات النظام")],-1)),A={class:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6 mb-8"},D={class:"bg-white rounded-xl shadow-lg p-6 transform hover:scale-[1.02] transition-all duration-300 border-r-4 border-blue-500"},I={class:"flex justify-between items-start"},E=a(()=>t("p",{class:"text-sm font-medium text-gray-500"},"إجمالي المستخدمين",-1)),N={class:"text-3xl font-bold text-gray-800 mt-2"},q=v('<p class="text-sm mt-3 flex items-center" data-v-60984a07><span class="text-green-500 font-medium flex items-center" data-v-60984a07><svg class="h-4 w-4 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-60984a07><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 10l7-7m0 0l7 7m-7-7v18" data-v-60984a07></path></svg> +5% </span><span class="text-gray-500 mr-2" data-v-60984a07>من الشهر الماضي</span></p>',1),O=a(()=>t("div",{class:"bg-blue-100 p-3 rounded-lg"},[t("svg",{class:"w-8 h-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})])],-1)),U={class:"bg-white rounded-xl shadow-lg p-6 transform hover:scale-[1.02] transition-all duration-300 border-r-4 border-green-500"},Z={class:"flex justify-between items-start"},Y=a(()=>t("p",{class:"text-sm font-medium text-gray-500"},"طلبات التواصل",-1)),G={class:"text-3xl font-bold text-gray-800 mt-2"},J=v('<p class="text-sm mt-3 flex items-center" data-v-60984a07><span class="text-green-500 font-medium flex items-center" data-v-60984a07><svg class="h-4 w-4 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-60984a07><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 10l7-7m0 0l7 7m-7-7v18" data-v-60984a07></path></svg> +12% </span><span class="text-gray-500 mr-2" data-v-60984a07>من الشهر الماضي</span></p>',1),K=a(()=>t("div",{class:"bg-green-100 p-3 rounded-lg"},[t("svg",{class:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})])],-1)),Q={class:"bg-white rounded-xl shadow-lg p-6 transform hover:scale-[1.02] transition-all duration-300 border-r-4 border-orange-500"},X={class:"flex justify-between items-start"},tt=a(()=>t("p",{class:"text-sm font-medium text-gray-500"},"إجمالي الشكاوى",-1)),et={class:"text-3xl font-bold text-gray-800 mt-2"},st=v('<p class="text-sm mt-3 flex items-center" data-v-60984a07><span class="text-red-500 font-medium flex items-center" data-v-60984a07><svg class="h-4 w-4 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-60984a07><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3" data-v-60984a07></path></svg> -2% </span><span class="text-gray-500 mr-2" data-v-60984a07>من الشهر الماضي</span></p>',1),ot=a(()=>t("div",{class:"bg-orange-100 p-3 rounded-lg"},[t("svg",{class:"w-8 h-8 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),at={class:"bg-white rounded-xl shadow-lg p-6 transform hover:scale-[1.02] transition-all duration-300 border-r-4 border-purple-500"},nt={class:"flex justify-between items-start"},rt=a(()=>t("p",{class:"text-sm font-medium text-gray-500"},"أدوار المستخدمين",-1)),lt={class:"text-3xl font-bold text-gray-800 mt-2"},it=v('<p class="text-sm mt-3 flex items-center" data-v-60984a07><span class="text-green-500 font-medium flex items-center" data-v-60984a07><svg class="h-4 w-4 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-60984a07><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 10l7-7m0 0l7 7m-7-7v18" data-v-60984a07></path></svg> +0% </span><span class="text-gray-500 mr-2" data-v-60984a07>من الشهر الماضي</span></p>',1),dt=a(()=>t("div",{class:"bg-purple-100 p-3 rounded-lg"},[t("svg",{class:"w-8 h-8 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})])],-1)),ct={class:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8"},ut={class:"bg-white rounded-xl shadow-lg p-6 transform hover:scale-[1.01] transition-all duration-300"},pt={class:"flex justify-between items-center"},ht=a(()=>t("h2",{class:"text-xl font-semibold text-gray-800"},"اتجاه الشكاوى",-1)),mt={class:"flex space-x-2 bg-gray-100 rounded-lg"},gt=["onClick"],_t={class:"relative h-64"},vt={class:"bg-white rounded-xl shadow-lg p-6 transform hover:scale-[1.01] transition-all duration-300"},xt=a(()=>t("h2",{class:"text-xl font-semibold text-gray-800 mb-6"},"أنواع الطلبات",-1)),bt={class:"relative"},ft={class:"mt-4 grid grid-cols-2 gap-2"},kt={class:"text-sm text-gray-600"},yt={class:"text-sm font-medium text-gray-800 mr-auto"},wt={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},Ct={class:"bg-white rounded-xl shadow-lg overflow-hidden transform hover:scale-[1.01] transition-all duration-300"},Bt=a(()=>t("div",{class:"p-6 border-b border-gray-100"},[t("h2",{class:"text-xl font-semibold text-gray-800"},"النشاط الأخير")],-1)),Mt={class:"overflow-y-auto"},jt={class:"flex items-start"},zt={class:c("w-6 h-6"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Ft=["stroke-linecap","stroke-linejoin","stroke-width","d"],Lt={class:"flex-1"},St={class:"flex justify-between items-start"},$t={class:"text-base font-medium text-gray-800"},Rt={class:"text-xs text-gray-500"},Vt={class:"text-sm text-gray-600 mt-1"},Tt={key:0,class:"mt-2"},Ht={class:"bg-white rounded-xl shadow-lg p-6 transform hover:scale-[1.01] transition-all duration-300"},Pt=a(()=>t("h2",{class:"text-xl font-semibold text-gray-800 mb-6"},"الملخص الشهري",-1)),Wt={class:"relative"},At={class:"mt-6 grid grid-cols-3 gap-4"},Dt={class:"text-sm text-gray-500"},It={class:"text-xl font-bold text-gray-800 mt-1"},Et={class:"text-xs mt-2 flex items-center"},Nt={class:"h-3 w-3 inline ml-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},qt=["d"],Ot=a(()=>t("span",{class:"text-gray-500 mr-2"},"من الشهر الماضي",-1)),Ut=w({setup(d){m.register(...z);const u=l(null),p=l(null),x=l(null),i=l({users_count:0,contactUs_count:0,complaints_count:0,roles_count:0,last_complaints:{}}),f=l("2023"),B=l([{title:"مستخدم جديد",description:"سارة أحمد قامت بإنشاء حساب جديد",time:"قبل 10 دقائق",status:"نشط",statusClass:"bg-green-100 text-green-800",iconBg:"bg-blue-100",iconText:"text-blue-600",iconPath:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z",iconLinecap:"round",iconLinejoin:"round",iconWidth:"2"},{title:"طلب تواصل",description:"استفسار حول خدمات النظام",time:"قبل 25 دقيقة",status:"قيد الانتظار",statusClass:"bg-blue-100 text-blue-800",iconBg:"bg-green-100",iconText:"text-green-600",iconPath:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z",iconLinecap:"round",iconLinejoin:"round",iconWidth:"2"},{title:"شكوى تم حلها",description:"تم حل مشكلة تتعلق بالخدمة",time:"قبل ساعة",status:"مكتمل",statusClass:"bg-purple-100 text-purple-800",iconBg:"bg-purple-100",iconText:"text-purple-600",iconPath:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z",iconLinecap:"round",iconLinejoin:"round",iconWidth:"2"},{title:"إضافة خدمة جديدة",description:"تمت إضافة خدمة جديدة للنظام",time:"قبل ساعتين",status:"",statusClass:"",iconBg:"bg-orange-100",iconText:"text-orange-600",iconPath:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10",iconLinecap:"round",iconLinejoin:"round",iconWidth:"2"},{title:"صيانة النظام",description:"تمت الصيانة المجدولة بنجاح",time:"قبل 5 ساعات",status:"",statusClass:"",iconBg:"bg-yellow-100",iconText:"text-yellow-600",iconPath:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z",iconLinecap:"round",iconLinejoin:"round",iconWidth:"2"}]),b=l([{name:"طلبات الخدمة",value:40},{name:"استفسارات عامة",value:30},{name:"مشكلات تقنية",value:15},{name:"طلبات دعم",value:10},{name:"أخرى",value:5}]),k=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6"],M=l([{name:"مستخدمون جدد",value:"124",trend:8},{name:"الطلبات",value:"342",trend:12},{name:"الإيرادات",value:"$24,560",trend:5}]),j=async()=>{try{const s=await $.get("api/dashboard/data");i.value=s.data.data;const y=Object.values(i.value.last_complaints),e=Object.keys(i.value.last_complaints);u.value&&new m(u.value,{type:"line",data:{labels:e,datasets:[{label:"الشكاوى",data:y,borderColor:"#3B82F6",backgroundColor:"rgba(59, 130, 246, 0.1)",borderWidth:3,tension:.3,fill:!0,pointBackgroundColor:"#fff",pointBorderColor:"#3B82F6",pointBorderWidth:2,pointRadius:4,pointHoverRadius:6}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:"#1F2937",titleFont:{size:14,weight:"bold"},bodyFont:{size:12},padding:12,cornerRadius:8,displayColors:!1}},scales:{y:{beginAtZero:!0,grid:{drawBorder:!1,color:"rgba(0, 0, 0, 0.05)"},ticks:{padding:12}},x:{grid:{display:!1},ticks:{padding:12}}},interaction:{intersect:!1,mode:"index"}}})}catch(s){console.error("خطأ في جلب بيانات لوحة التحكم:",s)}};return C(()=>{j(),p.value&&new m(p.value,{type:"doughnut",data:{labels:b.value.map(s=>s.name),datasets:[{data:b.value.map(s=>s.value),backgroundColor:k,borderWidth:0,borderRadius:4,spacing:2}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:"#1F2937",titleFont:{size:14,weight:"bold"},bodyFont:{size:12},padding:12,cornerRadius:8,displayColors:!1,callbacks:{label:function(s){return`${s.label}: ${s.raw}%`}}}},cutout:"75%"}}),x.value&&new m(x.value,{type:"bar",data:{labels:["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"],datasets:[{label:"المستخدمون",data:[80,95,110,100,120,130,140,135,125,115,105,95],backgroundColor:"#3B82F6",borderRadius:6,borderSkipped:!1},{label:"الطلبات",data:[200,220,240,230,250,270,290,280,260,240,220,200],backgroundColor:"#10B981",borderRadius:6,borderSkipped:!1},{label:"الإيرادات",data:[15e3,16e3,17e3,16500,18e3,19e3,2e4,19500,18500,17500,16500,15500],backgroundColor:"#F59E0B",borderRadius:6,borderSkipped:!1}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{padding:20,usePointStyle:!0,pointStyle:"circle"}},tooltip:{backgroundColor:"#1F2937",titleFont:{size:14,weight:"bold"},bodyFont:{size:12},padding:12,cornerRadius:8,displayColors:!1}},scales:{y:{beginAtZero:!0,grid:{drawBorder:!1,color:"rgba(0, 0, 0, 0.05)"},ticks:{padding:12,callback:function(s){return typeof s=="number"&&s>=1e3?`$${(s/1e3).toFixed(0)}k`:s}}},x:{grid:{display:!1},ticks:{padding:12}}},interaction:{intersect:!1,mode:"index"},barPercentage:.7,categoryPercentage:.8}})}),(s,y)=>(n(),r("div",P,[W,t("div",A,[t("div",D,[t("div",I,[t("div",null,[E,t("h3",N,o(i.value.users_count),1),q]),O])]),t("div",U,[t("div",Z,[t("div",null,[Y,t("h3",G,o(i.value.contactUs_count),1),J]),K])]),t("div",Q,[t("div",X,[t("div",null,[tt,t("h3",et,o(i.value.complaints_count),1),st]),ot])]),t("div",at,[t("div",nt,[t("div",null,[rt,t("h3",lt,o(i.value.roles_count),1),it]),dt])])]),t("div",ct,[t("div",ut,[t("div",pt,[ht,t("div",mt,[(n(),r(g,null,_(["2023","2022"],e=>t("button",{key:e,onClick:h=>f.value=e,class:c(["px-4 py-1 text-sm rounded-md",f.value===e?"bg-white shadow text-blue-600":"text-gray-600 hover:bg-gray-50"])},o(e),11,gt)),64))])]),t("div",_t,[t("canvas",{ref_key:"complaintsChart",ref:u},null,512)])]),t("div",vt,[xt,t("div",bt,[t("canvas",{ref_key:"requestTypesChart",ref:p},null,512)]),t("div",ft,[(n(!0),r(g,null,_(b.value,(e,h)=>(n(),r("div",{key:e.name,class:"flex items-center"},[t("div",{class:"w-3 h-3 rounded-full mr-2",style:F(`background-color: ${k[h]}`)},null,4),t("span",kt,o(e.name),1),t("span",yt,o(e.value)+"%",1)]))),128))])])]),t("div",wt,[t("div",Ct,[Bt,t("div",Mt,[(n(!0),r(g,null,_(B.value,(e,h)=>(n(),r("div",{key:h,class:"p-6 border-b border-gray-100 last:border-0 hover:bg-gray-50"},[t("div",jt,[t("div",{class:c(`p-3 rounded-lg ${e.iconBg} ${e.iconText} ml-4`)},[(n(),r("svg",zt,[t("path",{"stroke-linecap":e.iconLinecap,"stroke-linejoin":e.iconLinejoin,"stroke-width":e.iconWidth,d:e.iconPath},null,8,Ft)]))],2),t("div",Lt,[t("div",St,[t("h3",$t,o(e.title),1),t("span",Rt,o(e.time),1)]),t("p",Vt,o(e.description),1),e.status?(n(),r("div",Tt,[t("span",{class:c(`px-2 py-1 text-xs font-medium rounded-full ${e.statusClass}`)},o(e.status),3)])):L("",!0)])])]))),128))])]),t("div",Ht,[Pt,t("div",Wt,[t("canvas",{ref_key:"monthlySummaryChart",ref:x},null,512)]),t("div",At,[(n(!0),r(g,null,_(M.value,e=>(n(),r("div",{key:e.name,class:"bg-gray-50 p-4 rounded-lg"},[t("p",Dt,o(e.name),1),t("h3",It,o(e.value),1),t("p",Et,[t("span",{class:c(`font-medium ${e.trend>0?"text-green-500":"text-red-500"}`)},[(n(),r("svg",Nt,[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:e.trend>0?"M5 10l7-7m0 0l7 7m-7-7v18":"M19 14l-7 7m0 0l-7-7m7 7V3"},null,8,qt)])),S(" "+o(Math.abs(e.trend))+"% ",1)],2),Ot])]))),128))])])])]))}});const Zt=T(Ut,[["__scopeId","data-v-60984a07"]]),Yt={class:"dashboard"},Kt=w({setup(d){return l(),l(),C(()=>{}),(u,p)=>(n(),r("div",Yt,[H(Zt)]))}});export{Kt as default};
